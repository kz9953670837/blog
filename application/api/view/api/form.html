<form class="layui-form" action="{:url('')}" method="post" id="editForm">
    <div class="layui-form-item">
        <label class="layui-form-label">接口分组：</label>
        <div class="layui-input-inline w300">
            <select name="group_id" type="select" class="field-group_id">
                {volist name=":model('ApiGroup')->column('id,name')" id="vo"}
                    <option value="{$key}">{$vo}</option>
                {/volist}
            </select>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">接口名称：</label>
        <div class="layui-input-inline w300">
            <input type="text" class="layui-input field-name" name="name" lay-verify="required" placeholder="[必填] " />
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">接口版本：</label>
        <div class="layui-input-inline w300">
            <select name="version" type="select" class="field-version">
                {php}
                    $version = config('module_api.api_version') ? config('module_api.api_version') : 'v1';
                {/php}
                {volist name=":explode(',', $version)" id="vo"}
                    <option value="{$vo}">{$vo}</option>
                {/volist}
            </select>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">接口映射：</label>
        <div class="layui-input-inline" style="width:80px;margin-right:0px;">
            <input type="text" class="layui-input field-module" name="module" lay-verify="required" placeholder="模块" value="api" />
        </div>
        <div class="layui-input-inline" style="width:80px;margin-right:0px;">
            <input type="text" class="layui-input field-controller" name="controller" lay-verify="required" placeholder="控制器" />
        </div>
        <div class="layui-input-inline" style="width:140px;margin-right:0px;">
            <select name="action" class="field-action" lay-verify="required" type="select">
                <option value="">操作方法</option>
                <option value="index">列表(index)</option>
                <option value="create">创建页面(create)</option>
                <option value="save">创建保存(save)</option>
                <option value="read">读取(read)</option>
                <option value="edit">编辑页面(edit)</option>
                <option value="update">编辑更新(update)</option>
                <option value="delete">删除(delete)</option>
            </select>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">接口地址：</label>
        <div class="layui-input-inline w300">
            <input type="text" class="layui-input field-path" name="path" placeholder="默认自动生成" />
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">路由规则：</label>
        <div class="layui-input-inline w300">
            <input type="text" class="layui-input field-rule" name="rule" placeholder="默认自动生成" />
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">路由地址：</label>
        <div class="layui-input-inline w300">
            <input type="text" class="layui-input field-route" name="route" placeholder="默认自动生成" />
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">访问令牌：</label>
        <div class="layui-input-inline w300">
            <input type="radio" name="access_token" class="field-access_token" value="1" checked title="需要" />
            <input type="radio" name="access_token" class="field-access_token" value="0" title="忽略" />
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">登录授权：</label>
        <div class="layui-input-inline w300">
            <input type="radio" name="user_token" class="field-user_token" value="1" checked title="需要" />
            <input type="radio" name="user_token" class="field-user_token" value="0" title="忽略" />
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">接口描述：</label>
        <div class="layui-input-inline w300">
            <textarea name="desc" class="layui-textarea field-desc"></textarea>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">返回示例：</label>
        <div class="layui-input-inline w300">
            <textarea name="return_example" class="layui-textarea field-return_example" placeholder="json格式"></textarea>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label"> </label>
        <div class="pop-bottom-bar hisi-footer">
            <input type="hidden" class="field-id" name="id" />
            <input type="hidden" name="method" value="" />
            <input type="hidden" name="route_map" value="" />
            <button type="submit" class="layui-btn layui-btn-normal" hisi-data="{pop: true, refresh: true}" lay-submit="" lay-filter="formSubmit">提交保存</button>
        </div>
    </div>
</form>

{include file="system@block/layui" /}
<script>
    layui.use(['func'], function(){
        layui.func.assign({:json_encode($formData)});
    });
</script>